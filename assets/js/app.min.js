const database_template={login:!1,imgDishPath:"./assets/img/dishes/",dishes:[{title:"Hải sản tươi sống",description:"Hải sản tươi sống được cập nhật h\xe0ng ng\xe0y, đảm bảo chất lượng tươi ngon nhất. H\xe3y để ch\xfang t\xf4i chiều l\xf2ng bạn với những m\xf3n hải sản chế biến theo phong c\xe1ch ri\xeang.",imgSectionPath:"./assets/img/menu/bg_section1.jpg",typeOfFood:"dish",list:[{name:"C\xe1 hồi sốt chanh d\xe2y",img:"cahoi.jpeg",description:"C\xe1 hồi Bắc \xc2u sốt chanh d\xe2y tươi ngon, h\xf2a quyện vị chua ngọt độc đ\xe1o.",price:"299.000",preparationTime:20},{name:"H\xe0u nướng ph\xf4 mai",img:"hau-nuong-pho-mai.jpg",description:"H\xe0u sữa tươi ngọt lịm từ đảo ngọc Ph\xfa Quốc, kết hợp c\xf9ng ph\xf4 mai nướng tr\xean than hoa hồng.",price:"200.000",preparationTime:30},{name:"Cơm chi\xean hải sản",img:"comchien.png",description:" Cơm chi\xean thơm lừng, hạt cơm tơi, đậm đ\xe0 hải sản.",price:"99.000",preparationTime:25},{name:"S\xfap hải sản",img:"suphaisan.jpg",description:"S\xfap hải sản ngọt thanh, thơm lừng hải sản tươi sống.",price:"119.000",preparationTime:30},{name:"T\xf4m hấp bia",img:"tom_cang_hap_bia.jpg",description:"T\xf4m h\xf9m tươi hấp với bia v\xe0 l\xe1 chanh, giữ trọn vị ngọt tự nhi\xean, thơm nức mũi.",price:"1.000.000",preparationTime:30},{name:"Ốc hương hấp xả",img:"ochuong.jpg",description:"Ốc hương hấp sả tươi thơm, giữ nguy\xean hương vị tự nhi\xean.",price:"249.000",preparationTime:20},{name:"Mực nướng muối ớt",img:"mucnuong.png",description:"Mực nướng muối ớt cay nồng, giữ trọn độ dai v\xe0 gi\xf2n.",price:"199.000",preparationTime:25},{name:"Lẩu ghẹ nấm kim ch\xe2m",img:"laughe.jpg",description:"Ghẹ tươi nấu c\xf9ng nấm kim ch\xe2m, tạo vị ngọt thanh m\xe1t.",price:"499.000",preparationTime:15},{name:"Cồi x\xf2 điệp sốt tỏi",img:"sodiep.jpg",description:"x\xe0o c\xf9ng tỏi băm, hương vị đậm đ\xe0.",price:"229.000",preparationTime:20},{name:"C\xe1 bớp nướng muối ớt",img:"cabop.jpg",description:"C\xe1 bớp nướng thấm vị muối ớt cay đậm đ\xe0.",price:"199.000",preparationTime:25},]},{title:"Ẩm thực Nhật Bản",description:"Kh\xe1m ph\xe1 hương vị Nhật Bản tinh tế với những m\xf3n sushi, sashimi, tempura... được chế biến bởi c\xe1c đầu bếp gi\xe0u kinh nghiệm.",imgSectionPath:"./assets/img/menu/bg_section2.jpg",typeOfFood:"dish",list:[{name:"Shushi t\xf4m Tempura",img:"shushitom.jpg",description:"T\xf4m chi\xean gi\xf2n, cuộn cơm, rong biển v\xe0 sốt đặc biệt.",price:"229.000",preparationTime:30},{name:"C\xe1 Hồi Nướng Teriyaki",img:"cahoinuong.jpg",description:"C\xe1 hồi nướng sốt teriyaki ngọt ng\xe0o, thịt c\xe1 thơm mềm.",price:"299.000",preparationTime:25},{name:"Lẩu hải sản Nhật",img:"launhat.jpg",description:"Hải sản tươi nấu trong nước d\xf9ng Nhật, thơm ngon, thanh m\xe1t.",price:"499.000",preparationTime:30},{name:"Shashimi Bạch tuộc",img:"shashimibachtuoc.jpg",description:"Bạch tuộc th\xe1i l\xe1t mỏng, chấm tương, giữ trọn hương vị biển.",price:"319.000",preparationTime:15},{name:"Sushi Lươn Nhật (Unagi)",img:"shushiluon.jpg",description:"Lươn nướng, phủ sốt ngọt đậm đ\xe0, cuộn cơm v\xe0 rong biển.",price:"329.000",preparationTime:30},{name:"Gỏi sứa Nhật",img:"goisua.jpg",description:"Sứa gi\xf2n tươi, trộn rau củ v\xe0 nước sốt chua ngọt hấp dẫn.",price:"219.000",preparationTime:15},{name:"Cua tuyết hấp",img:"cuatuyethap.jpg",description:"Cua tuyết hấp ch\xedn, giữ nguy\xean độ ngọt, ăn k\xe8m sốt gừng.",price:"699.000",preparationTime:30},{name:"Shashimi c\xe1 hồi",img:"shashimicahoi.jpg",description:"C\xe1 hồi tươi th\xe1i l\xe1t, ăn k\xe8m nước tương v\xe0 wasabi cay nồng.",price:"349.000",preparationTime:15},]},{title:"Thế giới đồ uống đa dạng",description:"Từ những ly cocktail s\xe1ng tạo đến những chai rượu vang cổ điển, ch\xfang t\xf4i c\xf3 tất cả những g\xec bạn cần để tận hưởng bữa ăn trọn vẹn.",imgSectionPath:"./assets/img/menu/bg_section3.jpg",typeOfFood:"drink",list:[{name:"Whisky Jack",img:"ruou_whisky_jack.png",description:"Rượu vang đỏ",price:"500.000",volume:750,origin:"Ph\xe1p"},{name:"Rượu Shake Hakusturu",img:"shakehakutsuru.png",description:"Rượu Shake, 14%",price:"650.000",volume:720,origin:"Nhật Bản"},{name:"Chile Casillero del Diablo",img:"chile.png",description:"Rượu vang, 13.5%",price:"450.000",volume:750,origin:"Chile"},{name:"Coctail Mojito",img:"coctail_mojito.png",description:"Coctail",price:"70.000",volume:350,flavor:"Chua ngọt, bạc h\xe0, chanh."},{name:"Tr\xe0 chanh xả",img:"trachanhxa.png",description:"Tr\xe0",price:"70.000",volume:350,flavor:"Chua nhẹ, thơm m\xe1t của chanh v\xe0 xả."},{name:"Nước \xe9p t\xe1o",img:"nuoceptao.png",description:"Nước \xe9p",price:"60.000",volume:300,flavor:"Ngọt thanh, tươi m\xe1t từ t\xe1o tươi"},{name:"Bia Sol",img:"bia_sol.png",description:"Lager, 4.5%",price:"40.000",volume:500,origin:"Mexico"},{name:"Bia Sapporo Premium",img:"biasapporo.png",description:"Lager, 5%",price:"60.000",volume:330,origin:"Nhật Bản"},{name:"Bia Heineken",img:"heineken.png",description:"Lager, 5%",price:"55.000",volume:330,origin:"H\xe0 Lan"},]},],orderedDishes:[{name:"Coctail Mojito",img:"coctail_mojito.png",price:"70.000",quantity:4},{name:"Whisky Jack",img:"ruou_whisky_jack.png",price:"500.000",quantity:2},{name:"Tom cang hap bia",img:"tom_cang_hap_bia.png",price:"1.000.000",quantity:1},{name:"Bia Sol",img:"bia_sol.png",price:"40.000",quantity:10},],news:[{title:"TƯNG BỪNG KHAI TRƯƠNG CHI NH\xc1NH 3",content:"NganChef ch\xednh thức khai trương chi nh\xe1nh mới tại quận 1, TP.HCM! Với kh\xf4ng gian sang trọng, c\xf9ng menu đa dạng c\xe1c m\xf3n hải sản tươi sống, NganChef hứa hẹn sẽ mang đến những trải nghiệm ẩm thực tuyệt vời cho thực kh\xe1ch S\xe0i th\xe0nh. ",img:"./assets/img/tintuc/tintuc1.jpg"},{title:"ƯU Đ\xc3I HẢI SẢN CAO CẤP",content:"NganChef ch\xednh thức khai trương chi nh\xe1nh mới tại quận 1, TP.HCM! Với kh\xf4ng gian sang trọng, c\xf9ng menu đa dạng c\xe1c m\xf3n hải sản tươi sống, NganChef hứa hẹn sẽ mang đến những trải nghiệm ẩm thực tuyệt vời cho thực kh\xe1ch S\xe0i th\xe0nh. ",img:"./assets/img/tintuc/tintuc2.jpg"},{title:"RA MẮT GỎI C\xc1 HỒI SỐT CHANH D\xc2Y",content:"NganChef giới thiệu m\xf3n gỏi c\xe1 hồi sốt chanh d\xe2y độc đ\xe1o! Sự kết hợp ho\xe0n hảo giữa vị ngọt tươi của c\xe1 hồi, vị chua thanh của chanh d\xe2y c\xf9ng c\xe1c loại rau thơm tạo n\xean một m\xf3n ăn vừa lạ miệng vừa hấp dẫn. H\xe3y đến NganChef để thưởng thức m\xf3n gỏi c\xe1 hồi sốt chanh d\xe2y v\xe0 kh\xe1m ph\xe1 th\xeam nhiều m\xf3n ngon kh\xe1c.",img:"./assets/img/tintuc/tintuc3.jpeg"},{title:"Top 5 m\xf3n hải sản được y\xeau th\xedch nhất tại NganChef",content:"Bạn muốn biết b\xed quyết để chế biến m\xf3n h\xe0u nướng ph\xf4 mai ngon như tại nh\xe0 h\xe0ng? H\xe3y theo d\xf5i b\xe0i viết của ch\xfang t\xf4i để kh\xe1m ph\xe1 c\xf4ng thức độc đ\xe1o nh\xe9!",img:"./assets/img/tintuc/tintuc4.jpeg"},{title:"B\xed quyết chế biến m\xf3n “H\xe0u nướng ph\xf4 mai” ngon như nh\xe0 h\xe0ng",content:"Bạn muốn biết b\xed quyết để chế biến m\xf3n h\xe0u nướng ph\xf4 mai ngon như tại nh\xe0 h\xe0ng? H\xe3y theo d\xf5i b\xe0i viết của ch\xfang t\xf4i để kh\xe1m ph\xe1 c\xf4ng thức độc đ\xe1o nh\xe9!",img:"./assets/img/tintuc/tintuc5.jpeg"},{title:"B\xed quyết chọn hải sản tươi ngon tại nh\xe0 h\xe0ng NganChef",content:"Bạn đang ph\xe2n v\xe2n kh\xf4ng biết l\xe0m sao để chọn được những m\xf3n hải sản tươi ngon nhất? Đến với NganChef, ch\xfang t\xf4i sẽ bật m\xed cho bạn những b\xed quyết chọn hải sản tươi sống, đảm bảo chất lượng v\xe0 an to\xe0n vệ sinh thực phẩm.",img:"./assets/img/tintuc/tintuc6.jpeg"},],users:[]};function logout(){database.login=!1,header_changeLoginStatus()}function toggleClass(e,t){let n=document.querySelector(t);try{n.classList.toggle(e)}catch(i){console.log("Function toggleSubMenu: ",i)}}function toString(e,t,n){try{let i="";return e.length>0&&e.forEach(e=>{i+=t(e,n)}),i}catch(a){console.log("Function renderList: ",a)}}var database=JSON.parse(window.localStorage.getItem("SeafoodRestaurantDataBase"));database||(database=database_template);var logoutBtn=document.querySelector("#navbar-wrap .logout");logoutBtn.onclick=function(){logout()};const body=document.querySelector("body");function header_changeLoginStatus(){let e=document.querySelector(".container");try{database.login?e.classList.add("logged"):e.classList.contains("logged")&&e.classList.remove("logged")}catch(t){console.log("Change Login Status: ",t)}}function header_itemHTML(e,t){return`
        <li>
            <img src="${t+e.img}" alt="">
            <div class="dish-info">
                <span class="name">${e.name}</span>
                <span class="price">${e.price} đ</span>
            </div>
            <div class="quantity-button">
                <button data-calculator-type="-">
                    <i class="fa-solid fa-minus"></i>
                </button>
                <span>${e.quantity}</span>
                <button data-calculator-type="+">
                    <i class="fa-solid fa-plus"></i>
                </button>
            </div>
        </li>
    `}function header_changeQuantity(e){let t={"+":function(e,t){return e+t},"-":function(e,t){return e-t}},n=document.querySelectorAll(e.header_itemSelector);n.forEach(function(n,i){n.querySelectorAll("button").forEach(a=>{a.onclick=function(){let o=n.querySelector("span"),r=parseInt(o.textContent),s=a.getAttribute("data-calculator-type");if("-"==s&&1==r)database.orderedDishes.splice(i,1),header_renderList(e);else{let c=t[s](r,1);database.orderedDishes[i].quantity=c,o.textContent=c}console.log(database.orderedDishes)}})})}function header_renderList(e){try{let t=document.querySelector(e.header_listSelector),n=toString(e.header_dishesData,e.header_itemHTML,e.header_imgPath);""!=n?t.innerHTML=n:t.innerHTML='<p class="empty-notification">Chưa c\xf3 m\xf3n được đặt trước</p>',header_changeQuantity(e)}catch(i){console.log("HEADER: ",i)}}body.onunload=()=>{database.dishes=database_template.dishes,database.news=database_template.news,window.localStorage.setItem("SeafoodRestaurantDataBase",JSON.stringify(database))},header_changeLoginStatus();const header_menuBar=document.querySelector("#function-buttons #menu-bar");header_menuBar.onclick=()=>{toggleClass("show","#navbar-wrap")};const header_listSelector="header #sub-menu > ul",header_itemSelector="#sub-menu li > .quantity-button",header_imgPath=database.imgDishPath,header_dishesData=database.orderedDishes,header_argsRenderList={header_listSelector:"header #sub-menu > ul",header_dishesData,header_itemHTML,header_imgPath,header_itemSelector:"#sub-menu li > .quantity-button"};header_renderList(header_argsRenderList);const menu_itemTemplates={dish:(e,t)=>`
            <li class="dish-item">
                <img src="${t+e.img}" alt="">
                <div class="dish-inner">
                    <h4>${e.name}</h4>
                    <p class="script">${e.description}</p>
                    <div class="wrap">
                        <div class="time-produce">
                            <i class="fa-regular fa-clock"></i>
                            <span>${e.preparationTime} ph\xfat</span>
                        </div>
                        <p class="price">${e.price} đ</p>
                    </div>
                </div>
                <div class="dish-booking">
                    <button class="btn btn-outline">Đặt m\xf3n</button>
                </div>
            </li>
        `,drink:(e,t)=>`
            <li class="dish-item">
                <img src="${t+e.img}" alt="">
                <div class="dish-inner">
                    <div class="text-wrap">
                        <h4>${e.name}</h4>
                        <p class="script">${e.description}</p>
                    </div>
                    
                    <div class="wrap">
                        <div class="origin">
                            <span>${e.origin?"Xuất xứ":"Hương vị"}: </span>
                            <span>${e.origin||e.flavor}</span>
                        </div>
                        
                        <div class="capacity">
                            <i class="fa-solid fa-bottle-droplet"></i>
                            <span>${e.volume}ml</span>
                        </div>
                    </div>
                </div>
                <div class="dish-booking">
                    <span class="price">${e.price} đ</span>
                    <button class="btn btn-outline">Đặt trước</button>
                </div>
            </li>
        `};function menu_sectionTemplate(e,t){return`
        <figure>
            <img src="${e.imgSectionPath}" alt="">
            <figcaption>
                <h3>${e.title}</h3>
                <p>
                    ${e.description}
                </p>
            </figcaption>
        </figure>

        <ul id="dish-list" class="${e.typeOfFood}">
            ${toString(e.list,menu_itemTemplates[e.typeOfFood],t)}
        </ul>
    `}function menu_toastMessageTemplate(e){return`
        <div id="toast-message">
            <img src="${e}" alt="">
            <p>Th\xeam m\xf3n v\xe0o thực đơn th\xe0nh c\xf4ng</p>
        </div>
    `}function menu_renderList(e){try{let t=document.querySelector(e.menu_sectionSelector),n=e.menu_sectionData,i=menu_sectionTemplate(n,e.menu_imgDishPath);i&&t&&(t.innerHTML=i);let a=document.querySelectorAll(e.menu_dishBookingBtnsSelector),o=document.querySelector("main #toast-wrap");a.forEach((t,i)=>{t.onclick=()=>{if(database.login){let t=e.menu_imgDishPath+n.list[i].img;o.innerHTML=menu_toastMessageTemplate(t);let a=n.list[i],r=e.menu_orderedDishesData?.findIndex(e=>e.name.toLowerCase()==a.name.toLowerCase());if(-1!=r)e.menu_orderedDishesData[r].quantity++;else{let s={name:a.name,img:a.img,price:a.price,quantity:1};e.menu_orderedDishesData.push(s)}header_renderList(header_argsRenderList),console.log(e.menu_orderedDishesData)}else toggleClass(e.menu_notifyClassToggle,e.menu_notificationSelector)}})}catch(r){console.log("Render list function: ",r)}}if(document.querySelector("#menu")){let e="#menu #notification-wrap",t="show",n=database.dishes,i=database.orderedDishes,a=database.imgDishPath,o=document.querySelectorAll("#tab-bar > ul > li"),r=document.querySelector(e+" .close-icon"),s=(o=0)=>({menu_sectionSelector:"#menu main article > section",menu_notificationSelector:e,menu_notifyClassToggle:t,menu_dishBookingBtnsSelector:"#menu #dish-list .dish-booking > button",menu_toastWrap:"main #toast-wrap",menu_sectionData:n[o],menu_orderedDishesData:i,menu_imgDishPath:a});menu_renderList(s()),o.forEach((e,t)=>{e.onclick=()=>{try{document.querySelector("#tab-bar > ul > li.active").classList.remove("active"),e.classList.add("active"),menu_renderList(s(t))}catch(n){console.log("Render list: ",n)}}}),r.onclick=()=>{toggleClass(t,e)}}const form=document.querySelector("main form"),form_nameInput=document.getElementById("name"),form_pwdInput=document.getElementById("password"),form_phoneNumInput=document.getElementById("phone-number"),form_contactInput=document.getElementById("contact"),form_submitBtn=document.getElementById("form-submit"),form_genderRadioBtn=document.querySelectorAll("main form input[name='gender']"),form_date=document.getElementById("date"),form_month=document.getElementById("month"),form_year=document.getElementById("year");function renderDate(e=1,t=2005){if(form_date.innerHTML=`<option value="1" disabled selected hidden>Ng\xe0y</option>`,2==e){if(t%400==0||t%4==0&&t%100!=0||isNaN(parseInt(form_year.options[form_year.selectedIndex].textContent)))for(let n=1;n<=29;n++){let i=document.createElement("option");i.value=n,i.innerText=n,form_date.appendChild(i)}else for(let a=1;a<=28;a++){let o=document.createElement("option");o.value=a,o.innerText=a,form_date.appendChild(o)}}else if(1==e||3==e||5==e||7==e||8==e||10==e||12==e)for(let r=1;r<=31;r++){let s=document.createElement("option");s.value=r,s.innerText=r,form_date.appendChild(s)}else for(let c=1;c<=30;c++){let l=document.createElement("option");l.value=c,l.innerText=c,form_date.appendChild(l)}}function renderMonth(e=1,t=2005){if(form_month.innerHTML=`<option value="1" disabled selected hidden>Th\xe1ng</option>`,e<29||29==e&&(t%400==0||t%4==0&&t%100!=0)||29==e&&isNaN(parseInt(form_year.options[form_year.selectedIndex].textContent)))for(let n=1;n<=12;n++){let i=document.createElement("option");i.value=n,i.innerText=n,form_month.appendChild(i)}else if(30==e||29==e){for(let a=1;a<=12;a++)if(2!=a){let o=document.createElement("option");o.value=a,o.innerText=a,form_month.appendChild(o)}}else for(let r=1;r<=12;r++)if(1==r||3==r||5==r||7==r||8==r||10==r||12==r){let s=document.createElement("option");s.value=r,s.innerText=r,form_month.appendChild(s)}}function renderYear(e=1,t=1){if(form_year.innerHTML=`<option value="2005" disabled selected hidden>Năm</option>`,29==e&&2==t){for(let n=1900;n<=2024;n++)if(n%400==0||n%4==0&&n%100!=0){let i=document.createElement("option");i.value=n,i.innerText=n,form_year.appendChild(i)}}else for(let a=1900;a<=2024;a++){let o=document.createElement("option");o.value=a,o.innerText=a,form_year.appendChild(o)}}function formValidate(){if(form_nameInput&&form_nameInput.value.length<4)return alert("T\xean phải c\xf3 tối thiểu 4 k\xed tự"),!1;if(form_phoneNumInput&&!1==/(03|05|07|08|09|01[2|6|8|9])+([0-9]{8})\b/.test(form_phoneNumInput.value))return alert("Số điện thoại kh\xf4ng hợp lệ"),!1;if(form_pwdInput&&form_pwdInput.value.length<8)return alert("Mật khẩu phải c\xf3 tối thiểu 8 k\xed tự"),!1;if(form_contactInput&&form_contactInput.value.length<10)return alert("Nội dung li\xean hệ phải từ 10 k\xed tự trở l\xean"),!1;if(form_date&&form_month&&form_year&&(isNaN(parseInt(form_date.options[form_date.selectedIndex].textContent))||isNaN(parseInt(form_month.options[form_month.selectedIndex].textContent))||isNaN(parseInt(form_year.options[form_year.selectedIndex].textContent))))return alert("Vui l\xf2ng nhập ng\xe0y th\xe1ng năm sinh"),!1;if(2==form_genderRadioBtn.length&&!1==form_genderRadioBtn[0].checked&&!1==form_genderRadioBtn[1].checked)return alert("Vui l\xf2ng chọn giới t\xednh"),!1;if(document.querySelector("#dangky")){let e=form_nameInput.value,t=form_pwdInput.value;database.users.push({name:e,password:t}),form.submit()}if(document.querySelector("#dangnhap")){let n=form_nameInput.value,i=form_pwdInput.value;database.users.forEach(function(e){e.name===n&&e.password===i&&(database.login=!0,console.log(!0),header_changeLoginStatus(),form.submit(),window.location.href="index.html")}),database.login||alert("T\xean t\xe0i khoản hoặc mật khẩu kh\xf4ng ch\xednh x\xe1c!")}document.querySelector("#lienhe")&&form.submit()}form_date&&form_month&&form_year&&(renderDate(),renderMonth(),renderYear()),form_date&&form_month&&form_year&&(form_date.onfocus=function(){renderDate(form_month.value,form_year.value)},form_month.onfocus=function(){renderMonth(form_date.value,form_year.value)},form_year.onfocus=function(){renderYear(form_date.value,form_month.value)}),form_submitBtn&&(form_submitBtn.onclick=function(){formValidate()});const tintuc_newsList=document.querySelector("#tintuc main ul"),tintuc_newsData=database.news;if(tintuc_newsList){let c=tintuc_newsData.reduce((e,t)=>e+=`
            <li>
                <img src="${t.img}" alt="">
                <div class="content">
                    <h3 class="font-weight-500">${t.title}</h3>
                    <p>
                        ${t.content}
                    </p>
                    <a href="#" class="click-to-more">Nhấn để xem chi tiết</a>
                </div>
            </li>
        `,"");tintuc_newsList.innerHTML=c}const datban_container=document.querySelector("#datban"),datban_list=document.querySelector("#datban .list"),datban_daySelect=document.querySelector("#datban .day-select"),datban_monthSelect=document.querySelector("#datban .month-select"),datban_form=document.querySelector("#datban .booking-info"),datban_request=document.querySelector("#datban #request"),datban_submit=document.querySelector("#datban .book-btn .book"),datban_path=database.imgDishPath,datban_dishes=database.orderedDishes;if(datban_container){function l(e,t=1){if(e.innerHTML="",2==t)for(let n=1;n<=29;n++){let i=document.createElement("option");i.value=n,i.textContent=n,e.appendChild(i)}else if(1==t||3==t||5==t||7==t||8==t||10==t||12==t)for(let a=1;a<=31;a++){let o=document.createElement("option");o.value=a,o.textContent=a,e.appendChild(o)}else for(let r=1;r<=30;r++){let s=document.createElement("option");s.value=r,s.textContent=r,e.appendChild(s)}}function h(e,t=1){if(e.innerHTML="",31==t){for(let n=1;n<=12;n++)if(1==n||3==n||5==n||7==n||8==n||10==n||12==n){let i=document.createElement("option");i.value=n,i.textContent=n,e.appendChild(i)}}else if(30==t||29==t){for(let a=1;a<=12;a++)if(2!==a){let o=document.createElement("option");o.value=a,o.textContent=a,e.appendChild(o)}}else for(let r=1;r<=12;r++){let s=document.createElement("option");s.value=r,s.textContent=r,e.appendChild(s)}}function m(e,t,n){e.innerHTML="",n.forEach(n=>{let i=document.createElement("li");i.classList.add("item"),i.innerHTML=`
                <div class="item-img">
                    <img src="${t+n.img}" alt="">
                </div>
                <div class="item-info">
                    <div class="name-and-price">
                        <span class="name">${n.name}</span>
                        <span class="price">${n.price}đ</span>
                    </div>
                    <div class="quantity">
                        <button class="quantity-btn decrease">
                            <i class="fa-solid fa-minus"></i>
                        </button>
                        <span class="number">${n.quantity}</span>
                        <button class="quantity-btn increase">
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                </div>
                <div class="close">
                    <i class="fa-regular fa-circle-xmark"></i>
                </div>
            `,e.appendChild(i)}),d(e,n)}function d(e,t){let n=e.nextElementSibling.querySelector(".number"),i=0;t.forEach(e=>{i+=Number.parseInt(e.price.replaceAll(".",""))*e.quantity}),n.innerText=i.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}database.login&&m(datban_list,datban_path,datban_dishes);let u=document.querySelectorAll("#datban .increase"),g=document.querySelectorAll("#datban .decrease"),p=document.querySelectorAll("#datban .close");function f(){u.forEach((e,t)=>{e.onclick=()=>{let n=Number.parseInt(e.previousElementSibling.innerText);++n,console.log("+: ",t),datban_dishes[t]&&(datban_dishes[t].quantity=n,d(datban_list,datban_dishes)),e.previousElementSibling.innerText=n}}),g.forEach((e,t)=>{e.onclick=()=>{let n=Number.parseInt(e.nextElementSibling.innerText);--n<=0?datban_dishes[t]&&(setTimeout(()=>{datban_dishes.splice(t,1),d(datban_list,datban_dishes),e.closest(".item").remove(),u=document.querySelectorAll("#datban .increase"),g=document.querySelectorAll("#datban .decrease"),p=document.querySelectorAll("#datban .close"),f()},300),e.closest(".item").classList.add("remove")):(datban_dishes[t]&&(datban_dishes[t].quantity=n),d(datban_list,datban_dishes),e.nextElementSibling.innerText=n),console.log(datban_dishes)}}),p.forEach((e,t)=>{e.onclick=()=>{setTimeout(()=>{datban_dishes.splice(t,1),d(datban_list,datban_dishes),datban_list.removeChild(e.parentElement),u=document.querySelectorAll("#datban .increase"),g=document.querySelectorAll("#datban .decrease"),p=document.querySelectorAll("#datban .close"),f(),header_renderList(header_argsRenderList)},300),e.parentElement.classList.add("remove")}})}database.login&&f(),l(datban_daySelect),h(datban_monthSelect),datban_daySelect.onchange=()=>{let e=datban_monthSelect.value;h(datban_monthSelect,Number.parseInt(datban_daySelect.value)),datban_monthSelect.value=e},datban_monthSelect.onchange=()=>{let e=datban_daySelect.value;l(datban_daySelect,Number.parseInt(datban_monthSelect.value)),datban_daySelect.value=e},datban_submit.onclick=()=>{datban_request.value.length>0&&datban_request.value.length<10?alert("Vui l\xf2ng g\xf3p \xfd tối thiểu 10 k\xfd tự!"):(alert("Đặt b\xe0n th\xe0nh c\xf4ng"),datban_form.submit())}}